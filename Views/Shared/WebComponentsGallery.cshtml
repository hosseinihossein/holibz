@model List<WebComponents_ItemModel>


<!----------------------------------------------------------------->
<!------------------------ pagination --------------------------->
<!--partial name="Pagination" /-->
<!--------------------------------------------------------------->

<div id="flexContainere455df6c4ffb433fae9631e9ae040cf5">
    <style>
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: space-evenly;
            width: 100%;
            /*border: 1px solid gray;*/
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item {
            width: 30vw;
            height: calc(31vh + 43px);
            position: relative;
            margin: 20px 0;
            transition: all 0.2s;
            box-shadow: 0 0 5px gray;
            border-radius: 5px;
            overflow: hidden;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.half {
            width: 45vw;
            height: calc(46vh + 43px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.large {
            width: 80vw;
            height: calc(81vh + 43px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item:hover {
            box-shadow: 0 0 10px gray;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item iframe {
            position: absolute;
            left: calc(-34vw - 10px);
            top: -35vh;
            width: 99vw;
            height: 100vh;
            transform: scale(30%, 30%);
            z-index: 1;
            background-color: white;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.half iframe {
            transform: scale(45%, 45%);
            left: calc(-27vw - 3px);
            top: calc(-27vh - 3px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.large iframe {
            transform: scale(80.4%, 80%);
            left: calc(-10vw + 3px);
            top: calc(-9vh - 5px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item div {
            position: relative;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item .dropdown-content button,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item .dropdown-content a {
            font-size: 25px;
            background-color: rgba(255, 255, 255, 1);
            cursor: pointer;
            border: none;
            border-radius: 5px;
            position: relative;
            margin: 10px 0 10px 10px;
            opacity: 0.5;
            text-decoration: none;
            color: black;
            display: block;
            padding: 0 5px;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item div span.tooltip {
            font-size: 12px;
            background-color: black;
            color: white;
            border-radius: 10px;
            padding: 5px 10px;
            position: absolute;
            right: 40px;
            top: 0;
            display: none;
            width: fit-content;
            text-wrap: nowrap;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item p {
            position: relative;
            background-color: #333;
            color: white;
            width: fit-content;
            margin: auto;
            padding: 5px 10px;
            border-radius: 5px;
            display: block;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item .developer-img {
            width: 20px;
            height: 20px;
            object-fit: contain;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            margin: 0 10px;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item:hover button,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item:hover a,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item:hover p,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item:hover img {
            z-index: 1;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item button:hover,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item a:hover {
            opacity: 1;
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item button:hover+span,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item a:hover+span,
        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item img:hover+span {
            z-index: 2;
            display: inline;
        }
    </style>
    <style>
        .a853327e226cb4ad891cf1362463e6edf {
            width: 100%;
            /*min-width: 300px;*/
            margin: auto;
        }

        /* The browser window */
        .a853327e226cb4ad891cf1362463e6edf .container {
            border: 3px solid #f1f1f1;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            height: calc(31vh + 43px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.half .a853327e226cb4ad891cf1362463e6edf .container {
            height: calc(46vh + 43px);
        }

        #flexContainere455df6c4ffb433fae9631e9ae040cf5 .flex-item.large .a853327e226cb4ad891cf1362463e6edf .container {
            height: calc(81vh + 43px);
        }

        /* Container for columns and the top "toolbar" */
        .a853327e226cb4ad891cf1362463e6edf .row {
            padding: 10px;
            background: #f1f1f1;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
        }

        /* Create three unequal columns that floats next to each other */
        .a853327e226cb4ad891cf1362463e6edf .column {
            float: left;
        }

        .a853327e226cb4ad891cf1362463e6edf .left {
            width: 15%;
        }

        .a853327e226cb4ad891cf1362463e6edf .right {
            width: fit-content;
            float: right;
        }

        .a853327e226cb4ad891cf1362463e6edf .middle {
            width: 65%;
        }

        /* Clear floats after the columns */
        .a853327e226cb4ad891cf1362463e6edf .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Three dots */
        .a853327e226cb4ad891cf1362463e6edf .dot {
            margin-top: 4px;
            height: 12px;
            width: 12px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
        }

        /* Style the input field */
        .a853327e226cb4ad891cf1362463e6edf input[type=text] {
            width: 100%;
            border-radius: 3px;
            border: none;
            background-color: white;
            margin-top: -8px;
            height: 25px;
            color: #666;
            padding: 5px;
        }

        /* Three bars (hamburger menu) */
        .a853327e226cb4ad891cf1362463e6edf .bar {
            width: 17px;
            height: 3px;
            background-color: #aaa;
            margin: 3px 0;
            display: block;
        }

        .a853327e226cb4ad891cf1362463e6edf .dropdown-btn {
            position: relative;
        }

        .a853327e226cb4ad891cf1362463e6edf .dropdown-content {
            display: none;
            background-color: white;
            position: absolute;
            top: 20px;
            right: 0;
        }

        .a853327e226cb4ad891cf1362463e6edf .dropdown-btn:hover .dropdown-content {
            display: block;
            z-index: 2;
        }

        /* Page content */
        .a853327e226cb4ad891cf1362463e6edf .content {
            padding: 10px;
        }
    </style>
    @foreach (WebComponents_ItemModel item in Model)
    {
        <div class="flex-item half">
            <!----------------------------------------------------------------->
            <div class="a853327e226cb4ad891cf1362463e6edf">
                <div class="container">
                    <div class="row">
                        <div class="column left">
                            <span class="dot" style="background:#ED594A;"></span>
                            <span class="dot" style="background:#FDD800;"></span>
                            <span class="dot" style="background:#5AC05A;"></span>
                        </div>
                        <div class="column middle">
                            <input type="text" value="@item.Title">
                        </div>
                        <div class="column right">
                            <div style="float: left;">
                                <img src="/Identity/UserImage?username=@item.Developer?.UserName&v=@item.Developer?.ProfileImageVersion"
                                    alt="" class="developer-img"
                                    onclick="window.location.href='/Identity/Profile?username=@item.Developer?.UserName'">
                                <span class="tooltip">@item.Developer?.UserName</span>
                            </div>
                            <div style="float:right" class="dropdown-btn">
                                <span class="bar"></span>
                                <span class="bar"></span>
                                <span class="bar"></span>

                                <div class="dropdown-content" style="position: absolute;">
                                    <div style="position: relative;">
                                        <button
                                            onclick="showModalFrame('@item.Guid', '@item.Developer?.UserName', '@item.Developer?.ProfileImageVersion', '@item.Title')">
                                            <i class="fa-solid fa-magnifying-glass-plus"></i>
                                        </button>
                                        <span class="tooltip">Zoom In</span>
                                    </div>
                                    <div style="position: relative;">
                                        <a asp-controller="WebComponents" asp-action="ItemDetail"
                                            asp-route-itemGuid="@item.Guid">
                                            <i class="fa-solid fa-circle-info"></i>
                                        </a>
                                        <span class="tooltip">More</span>
                                    </div>
                                    <div style="position: relative;">
                                        <a href="/WebComponents/ItemSource/@(item.Guid)/@(item.Guid).zip"
                                            style="padding: 0 8px;"><i class="fa-solid fa-file-arrow-down"></i>
                                        </a>
                                        <span class="tooltip">Download</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content">
                        <iframe src="/WebComponents/ItemSource/@(item.Guid)/index.html" frameborder="0"></iframe>
                    </div>
                </div>

            </div>
            <!------------------------------------------------------------------------>
        </div>
    }
</div>
<div id="modala1148ffdb9b54fdf961ac961938daf26" onclick="if(event.target == this) this.classList.remove('open');">
    <style>
        #modala1148ffdb9b54fdf961ac961938daf26 {
            position: fixed;
            top: 50px;
            left: 50vw;
            bottom: 0;
            width: 0;
            /*height: 100vh;*/
            background-color: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
            z-index: 2;
            transition: all 0.2s;
            overflow: auto;
        }

        #modala1148ffdb9b54fdf961ac961938daf26.open {
            left: 0;
            width: 100%;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #modal-frame {
            width: 100vw;
            height: 100vh;
            transform: scale(80%, 80%);
            box-shadow: 0 0 20px gray;
            background-color: white;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #modal-close-btn {
            color: red;
            font-size: 40px;
            position: absolute;
            top: 20px;
            right: 30px;
            cursor: pointer;
            z-index: 3;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #modal-close-btn:hover {
            color: rgb(206, 0, 0);
        }

        #modala1148ffdb9b54fdf961ac961938daf26 a {
            text-decoration: none;
            /*position: absolute;*/
            /*right: 50px;*/
            /*left: 20px;*/
            color: #333;
            font-size: 47px;
            opacity: 0.7;
            text-align: center;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 a:hover {
            opacity: 1;
            /*z-index: 1;*/
        }

        #modala1148ffdb9b54fdf961ac961938daf26 .tag-info {
            display: inline;
            visibility: hidden;
            padding: 5px 10px;
            background-color: black;
            color: white;
            position: relative;
            left: 50%;
            top: 5px;
            transform: translateX(-50%);
            width: fit-content;
            border-radius: 10px;
            font-size: 12px;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 a:hover+.tag-info {
            /*display: block;*/
            visibility: visible;
            z-index: 1;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #developer-img {
            width: 50px;
            height: 50px;
            object-fit: contain;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            left: 50%;
            transform: translateX(-50%);
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #info-box {
            text-align: center;
            width: 90%;
            margin: 0px auto 50px;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #info-box #title-header {
            margin: 0px;
            position: relative;
            top: 30px;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #links-box {
            position: relative;
            /*top: 0;
            left: 0;*/
            width: fit-content;
            /*z-index: 1;*/
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #links-box>div {
            position: relative;
            float: left;
            margin: 20px;
            z-index: 1;
            width: 100px;
        }

        #modala1148ffdb9b54fdf961ac961938daf26 #links-box>div * {
            display: block;
        }
    </style>
    <span id="modal-close-btn" onclick="this.parentElement.classList.remove('open');">&times;</span>

    <div id="links-box" class="clearfix">
        <div>
            <a id="more-link" href="#"><i class="fa-solid fa-circle-info"></i></a>
            <span class="tag-info">More</span>
        </div>
        <div>
            <a id="download-link" href="#" style="padding: 0 5px;"><i class="fa-solid fa-file-arrow-down"></i></a>
            <span class="tag-info">Download</span>
        </div>
        <div>
            <a id="developer-link" href="#"><img id="developer-img" src="" alt=""></a>
            <span id="developer-username" class="tag-info">username</span>
        </div>
    </div>

    <div id="info-box">
        <h2 id="title-header">Title of the component</h2>
    </div>

    <iframe id="modal-frame" src="" frameborder="0"></iframe>
</div>
<script>
    function showModalFrame(itemGuid, developerUserName, developerProfileVersion, title) {
        let modal = document.getElementById("modala1148ffdb9b54fdf961ac961938daf26");
        //let sourceFrame = element.parentElement.parentElement.getElementsByTagName("iframe")[0];
        modal.querySelector("#modal-frame").src = `/WebComponents/ItemSource/${itemGuid}/index.html`;
        modal.querySelector("#more-link").href = `/WebComponents/ItemDetail?itemGuid=${itemGuid}`;
        modal.querySelector("#download-link").href = `/WebComponents/ItemSource/${itemGuid}/${itemGuid}.zip`;
        modal.querySelector("#developer-link").href = `/Identity/Profile?username=${developerUserName}`;
        modal.querySelector("#developer-img").src = `/Identity/UserImage?username=${developerUserName}&v=${developerProfileVersion}`;
        modal.querySelector("#developer-username").innerHTML = developerUserName;
        modal.querySelector("#title-header").innerHTML = title;
        modal.classList.add("open");
    }
</script>

<!------------------------ pagination --------------------------->
<partial name="Pagination" />
<!--------------------------------------------------------------->
<!-------------------- display inventory tools ------------------>
<script>
    let displayInventoryToolsInNavBar = true;
</script>
<!--------------------------------------------------------------->
